<!--pages/tab/merchants/merchants.wxml-->
<template name="common_header">
  <view style="height: 206rpx;width: 100%;background-color: #EFFDF8;position: relative;">

    <image style="width: 125rpx; height: 125rpx; border-radius: 100%;margin-left: -33rpx;margin-top: -38rpx; background-color: rgba(92, 199, 140, 0.1); position: absolute;" />

    <image style="width: 32rpx; height: 32rpx; border-radius: 100%;position: absolute;top: 25rpx;left: 381rpx;background-color: rgba(83, 182, 126, 0.1);" />

    <image style="width: 32rpx; height: 32rpx; position: absolute;left: 81rpx;bottom: 10rpx;border-radius: 100%;background-color: rgba(92, 199, 140, 1);" />

    <image style="width: 37rpx; height: 49rpx; border-radius: 100%; position: absolute;left: 66rpx;top: 35rpx" src="/pages/images/merchant_register/common_head_hand.png" />

    <image style="width: 128rpx; height: 128rpx; border-radius: 100%;right: -59rpx;bottom: -20rpx; background-color: rgba(92, 199, 140, 0.1); position: absolute;" />

    <text style="font-size: 30rpx; font-weight: 500;color: rgba(0, 0, 0, 1);position: absolute; left: 125rpx; top: 36rpx;display: -webkit-box;overflow: hidden;word-break: break-all;text-overflow: ellipsis;-webkit-box-orient: vertical;-webkit-line-clamp: 1;padding-right: 30rpx;">{{main_title}}</text>

    <text style="font-size: 22rpx; font-weight: 400;color: rgba(117, 138, 129, 1);position: absolute; left: 125rpx; top: 85rpx;display: -webkit-box;overflow: hidden;word-break: break-all;text-overflow: ellipsis;-webkit-box-orient: vertical;-webkit-line-clamp: 2;padding-right: 30rpx;">{{sub_title}}</text>

  </view>
</template>

<template name="register_status_title">
  <text class="register_status_title">我的申请状态</text>
</template>


<block wx:if="{{!logined}}">
  <!-- 未登录，提示去登录 -->
  <view class="register_status_container">
    <template is="common_header" data="{{...header}}" />
    <view class="register_status_body">
      <button class="common_btn" style="width: 630rpx; height: 98rpx; margin-top: 520rpx;" bindtap="login">登录</button>
    </view>
  </view>
</block>


<block wx:if="{{logined && data_status != 0}}">
  <!-- 已登录查询用户审核状态。 未注册 、审核中、已通过、 未通过 -->
  <!-- 空数据表示用户还未注册 -->
  <view wx:if="{{data_status == 4}}" class="register_status_container">
    <template is="common_header" data="{{...header}}" />
    <view class="register_status_body">

    </view>
  </view>
  <!-- 审核中 -->
  <view wx:if="{{merchant_register_info.status == 1}}" class="register_status_container">
    <template is="common_header" data="{{...header}}" />

    <view class="register_status_body">
      <template is="register_status_title" />
      <view class="register_result_container">
        <image class="register_result_icon" src="/pages/images/merchant_register/status_review.png" />
        <text class="register_result_desc">审核中...</text>
      </view>
    </view>

  </view>

  <!-- 已通过 -->
  <view wx:if="{{merchant_register_info.status == 2}}" class="register_status_container">
    <template is="common_header" data="{{...header}}" />
    <view class="register_status_body">
      <template is="register_status_title" />
      <view class="register_result_container">
        <image class="register_result_icon" src="/pages/images/merchant_register/status_review.png" />
        <text class="register_result_desc">审核通过</text>
        <button class="common_btn" style="width: 630rpx; height: 98rpx; margin-top: 52rpx;" bindtap="login">申请修改</button>
      </view>
    </view>
  </view>

  <!-- 未通过 -->
  <view wx:if="{{merchant_register_info.status == 3}}" class="register_status_container">
    <template is="common_header" data="{{...header}}" />
    <view class="register_status_body">
      <template is="register_status_title" />
      <view class="register_result_container">
        <image class="register_result_icon" src="/pages/images/merchant_register/status_review.png" />
        <text class="register_result_desc" style="color: rgba(236, 106, 56, 1);">驳回</text>
        <button class="common_btn" style="width: 630rpx; height: 98rpx; margin-top: 52rpx;" bindtap="login">重新提交</button>
      </view>
    </view>
  </view>

  <view wx:if="{{data_status == 3}}">
    请求错误
  </view>
</block>